<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tools · Thebes</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Thebes logo"/></a><div class="docs-package-name"><span class="docs-autofit">Thebes</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction to Thebes</a></li><li><a class="tocitem" href="../basics/">The basics</a></li><li><a class="tocitem" href="../views/">Views</a></li><li><a class="tocitem" href="../polys/">Polygons and planes</a></li><li><a class="tocitem" href="../objects/">Objects</a></li><li><a class="tocitem" href="../text/">Text</a></li><li class="is-active"><a class="tocitem" href>Tools</a><ul class="internal"><li><a class="tocitem" href="#Getting-your-hands-dirty"><span>Getting your hands dirty</span></a></li><li class="toplevel"><a class="tocitem" href="#Geometry"><span>Geometry</span></a></li><li><a class="tocitem" href="#General"><span>General</span></a></li><li><a class="tocitem" href="#Distances"><span>Distances</span></a></li><li><a class="tocitem" href="#Rotations"><span>Rotations</span></a></li><li><a class="tocitem" href="#Position-and-scale"><span>Position and scale</span></a></li><li><a class="tocitem" href="#Coordinates"><span>Coordinates</span></a></li></ul></li><li><a class="tocitem" href="../functionindex/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tools</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tools</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cormullion/Thebes.jl/blob/master/docs/src/tools.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tools"><a class="docs-heading-anchor" href="#Tools">Tools</a><a id="Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Tools" title="Permalink"></a></h1><p>There are few useful tools that might help you explore.</p><h2 id="Getting-your-hands-dirty"><a class="docs-heading-anchor" href="#Getting-your-hands-dirty">Getting your hands dirty</a><a id="Getting-your-hands-dirty-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-your-hands-dirty" title="Permalink"></a></h2><p>Suppose you want to remove the front-facing faces of an object, in order to see inside. That&#39;s possible, but a bit of code is needed.</p><pre><code class="language-julia">eyepoint(200, 200, 200)
axes3D(300)
setlinejoin(&quot;bevel&quot;)

include(dirname(pathof(Thebes)) * &quot;/../data/moreobjects.jl&quot;)

objectfull = make(cuboctahedron, &quot;the full object&quot;)
objectcut  = make(cuboctahedron, &quot;the cut-open object&quot;)

map(o -&gt; scaleby!(o, 60, 60, 60), (objectfull, objectcut))

function cullfrontfaces!(m::Object, angle;
        eyepoint::Point3D=eyepoint())
    avgs = Float64[]
    for f in m.faces
        vs = m.vertices[f]
        s = 0.0
        for v in vs
            s += distance(v, eyepoint)
        end
        avg = s/length(unique(vs))

        θ = surfacenormal(vs)
        if anglebetweenvectors(θ, eyepoint) &gt; angle
            push!(avgs, avg)
        end
    end
    neworder = reverse(sortperm(avgs))
    m.faces = m.faces[neworder]
    m.labels = m.labels[neworder]
    return m
end

function drawobject(object)
    pin(object, gfunction = (args...) -&gt; begin
        vertices, faces, labels = args
        setopacity(0.8)
        sethue(&quot;grey80&quot;)
        if !isempty(faces)
            @layer begin
                for (n, p) in enumerate(faces)
                    poly(p, :fillpreserve, close=true)
                    @layer begin
                        sethue(&quot;grey20&quot;)
                        strokepath()
                    end
                end
            end
        end
    end)
end

sortfaces!.((objectcut, objectfull))
cullfrontfaces!(objectcut, π/3)

translate(-200, 0)
drawobject(objectcut)

translate(400, 0)
drawobject(objectfull)

@show length(objectcut.faces)
@show length(objectfull.faces)</code></pre><pre class="documenter-example-output">length(objectcut.faces) = 10
length(objectfull.faces) = 14</pre><p>The object on the left has had its four frontfacing faces removed. The one on the right is intact.</p><p><img src="../assets/figures/cullingfaces.svg" alt="culling faces"/></p><h1 id="Geometry"><a class="docs-heading-anchor" href="#Geometry">Geometry</a><a id="Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Geometry" title="Permalink"></a></h1><p>There are some basic geometry utility functions - some of them are analogous to their Luxor 2D counterparts.</p><h2 id="General"><a class="docs-heading-anchor" href="#General">General</a><a id="General-1"></a><a class="docs-heading-anchor-permalink" href="#General" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Thebes.axes3D" href="#Thebes.axes3D"><code>Thebes.axes3D</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">axes3D(n=100)</code></pre><p>Draw labelled 3D axes at <code>(0, 0, 0)</code> with length <code>n</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.carpet" href="#Thebes.carpet"><code>Thebes.carpet</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">carpet(n; kind=:circular)</code></pre><p>Draw a circular carpet centered at the origin, using current Luxor parameters.</p><p>If <code>kind</code> is not <code>:circular</code>, the carpet will be a square.</p><p>Points that can&#39;t be rendered are not included in the final shape.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.drawcube" href="#Thebes.drawcube"><code>Thebes.drawcube</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">drawcube(n=10, action=:stroke)</code></pre><p>Draw a cube.</p></div></section></article><h2 id="Distances"><a class="docs-heading-anchor" href="#Distances">Distances</a><a id="Distances-1"></a><a class="docs-heading-anchor-permalink" href="#Distances" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Luxor.between" href="#Luxor.between"><code>Luxor.between</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">between(p1::Point3D, p2::Point3D, x=0.5)
between((p1::Point3D, p2::Point3D), x=0.5)</code></pre><p>Find a point on a line between two 3D points. If <code>x</code> is 0.5, the returned point should be halfway between them.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Luxor.distance" href="#Luxor.distance"><code>Luxor.distance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">distance(p1::Point3D, p2::Point3D)</code></pre><p>Return the distance between two points.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Luxor.midpoint" href="#Luxor.midpoint"><code>Luxor.midpoint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">midpoint(pt1::Point3D, pt2::Point3D)</code></pre><p>Find the midpoint between two points. See also <code>between()</code>.</p></div></section></article><h2 id="Rotations"><a class="docs-heading-anchor" href="#Rotations">Rotations</a><a id="Rotations-1"></a><a class="docs-heading-anchor-permalink" href="#Rotations" title="Permalink"></a></h2><p>Work in progress:</p><article class="docstring"><header><a class="docstring-binding" id="Thebes.rotateX" href="#Thebes.rotateX"><code>Thebes.rotateX</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotateX(pt3D::Point3D, rad)</code></pre><p>Return a new point resulting from rotating the point around the x axis by an angle in radians.</p><p>Rotations are anticlockwise when looking along axis from 0 to +axis.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.rotateY" href="#Thebes.rotateY"><code>Thebes.rotateY</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotateY(pt3D::Point3D, rad)</code></pre><p>Return a new point resulting from rotating the point around the y axis by an angle in radians.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.rotateZ" href="#Thebes.rotateZ"><code>Thebes.rotateZ</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotateZ(pt3D::Point3D, rad)</code></pre><p>Return a new point resulting from rotating the point around the z axis by an angle in radians.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.rotateby!" href="#Thebes.rotateby!"><code>Thebes.rotateby!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotateby!(ptlist::Array{Point3D, 1}, angleX, angleY, angleZ)</code></pre><p>Return the list of points with each one rotated around the x, y, and z axes by angleX, angleY, angleZ.</p></div></section><section><div><pre><code class="language-julia">rotateby!(ptlist::Point3D, existingpt::Point3D, angleX, angleY, angleZ)</code></pre><p>Rotate each point in the list by angleX, angleY, angleZ around another point.</p></div></section><section><div><pre><code class="language-julia">rotateby!(m::Object, angleX, angleY, angleZ)</code></pre><p>Rotate an object around the x, y, and/or z axis by angleX, angleY, angleZ.</p></div></section><section><div><pre><code class="language-julia">rotateby!(m::Object, pt::Point3D, angleX, angleY, angleZ)</code></pre><p>Rotate an object around a point by angleX, angleY, angleZ.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.rotateby" href="#Thebes.rotateby"><code>Thebes.rotateby</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotateby(pt::Point3D, angleX, angleY, angleZ)
rotateby(ptlist::Array{Point3D, 1}, angleX, angleY, angleZ)</code></pre><p>Return a new point/list of points resulting from rotating around the x, y, and z axes by angleX, angleY, angleZ.</p></div></section><section><div><pre><code class="language-julia">rotateby(newpt::Point3D, existingpt::Point3D, angleX, angleY, angleZ)</code></pre><p>Return a new point/list resulting from rotating each point by angleX, angleY, angleZ around another point.</p></div></section><section><div><pre><code class="language-julia">rotateby(m::Object, angleX, angleY, angleZ)</code></pre><p>Rotate a copy of the object by angleX, angleY, angleZ.</p></div></section><section><div><pre><code class="language-julia">rotateby(m::Object, pt::Point3D, angleX, angleY, angleZ)</code></pre><p>Rotate a copy of the object around a point by angleX, angleY, angleZ.</p></div></section></article><h2 id="Position-and-scale"><a class="docs-heading-anchor" href="#Position-and-scale">Position and scale</a><a id="Position-and-scale-1"></a><a class="docs-heading-anchor-permalink" href="#Position-and-scale" title="Permalink"></a></h2><p>You can change the position and scale of things:</p><article class="docstring"><header><a class="docstring-binding" id="Thebes.moveby!" href="#Thebes.moveby!"><code>Thebes.moveby!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">moveby!(ptlist::Point3D, x, y, z)
moveby!(ptlist::Point3D, pt::Point3D)</code></pre><p>Move all points in the list by a vector.</p></div></section><section><div><pre><code class="language-julia">moveby!(m::Object, x, y, z)
moveby!(m::Object, pt::Point3D)</code></pre><p>Set the position of object to Point3D(x, y, z).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.moveby" href="#Thebes.moveby"><code>Thebes.moveby</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">moveby(m::Object, x, y, z)
moveby(m::Object, pt::Point3D)</code></pre><p>Set the position of a copy of the object to Point3D(x, y, z).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.scaleby!" href="#Thebes.scaleby!"><code>Thebes.scaleby!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>scaleby!(m::Object, x, y, z)</p><p>Scale object by x in x, y in y, and z in z.</p></div></section></article><h2 id="Coordinates"><a class="docs-heading-anchor" href="#Coordinates">Coordinates</a><a id="Coordinates-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinates" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Thebes.sphericaltocartesian" href="#Thebes.sphericaltocartesian"><code>Thebes.sphericaltocartesian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sphericaltocartesian(rho, theta, phi)</code></pre><p>Return Point3D(x, y, z) of (rho, theta, phi).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.cartesiantospherical" href="#Thebes.cartesiantospherical"><code>Thebes.cartesiantospherical</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cartesiantospherical(x, y, z)</code></pre><p>Return (phi, rho, theta) of (x, y, z).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.dotproduct3D" href="#Thebes.dotproduct3D"><code>Thebes.dotproduct3D</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dotproduct3D(a::Point3D, b::Point3D)</code></pre><p>Finds the dot product of a and b</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.magnitude" href="#Thebes.magnitude"><code>Thebes.magnitude</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">magnitude(a::Point3D)</code></pre><p>Calculates magnitude of a.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.anglebetweenvectors" href="#Thebes.anglebetweenvectors"><code>Thebes.anglebetweenvectors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">anglebetweenvectors(v1::Point3D, v2::Point3D)</code></pre><p>Calclates anglebetweenvectors</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Thebes.surfacenormal" href="#Thebes.surfacenormal"><code>Thebes.surfacenormal</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">surfacenormal(ptlist)</code></pre><p>Finds one of these.</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../text/">« Text</a><a class="docs-footer-nextpage" href="../functionindex/">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 23 September 2020 18:08">Wednesday 23 September 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
